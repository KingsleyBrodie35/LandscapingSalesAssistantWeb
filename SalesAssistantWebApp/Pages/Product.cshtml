@page
@model SalesAssistantWebApp.Pages.ProductModel

<div class="mainDiv">
    @if (Model.paver != null)
    {
        <div> 
            <div class="headerChildDiv right">
                <h3>@Model.paver.name</h3>
                <h3>@Model.paver.colour</h3>
                <h3>@Model.paver.size</h3>
            </div>
            <img class="imageResize left" src="~/images/@Model.paver.imagePath"/>
        </div>
        <div>
            <p>@Model.paver.description</p>
            <p>Supplier: @Model.paver.supplier</p>
            <p>$@Model.paver.price ea</p>
            @if (User.Identity.IsAuthenticated)
            {
                <div class="formRow">
                <form method="post" class="formRow">
                    <label>Square Metres</label>
                    <input type="text" pattern="^[0-9]+$" name="m2">
                    <input class="hidden" name="ProductId" value="@Model.paver.PaverId">
                     <input class="hidden" name="TypeId" value="@Model.paver.typeId">
                    <button type="submit" >Add to cart</button>
                </form>
                </div>
                if (Model.msg)
                {
                    <div id="outputMsg"><p>Added to cart!</p></div>
                }
            }
        </div> 
    
    }

    @if (Model.retainingWall != null) {
        <div> 
            <div class="headerChildDiv right">
                <h3>@Model.retainingWall.name</h3>
                <h3>@Model.retainingWall.colour</h3>
                <h3>@Model.retainingWall.size</h3>
            </div>
            <img class="imageResize left" src="~/images/@Model.retainingWall.imagePath"/>
        </div>
        <div>
            <p>@Model.retainingWall.description</p>
            <p>Maximum height: @Model.retainingWall.maxHeight mm</p>
            <p>$@Model.retainingWall.price ea</p>
            <div id="formRow" class="formRow">
            @if (User.Identity.IsAuthenticated)
            {
                
                    <form method="post">
                        <label>Lineal Metres</label>
                        <input type="text" pattern="^[0-9]+$" name="Lm">
                        <input class="hidden" name="ProductId" value="@Model.retainingWall.RetainingWallId">
                        <input class="hidden" name="TypeId" value="@Model.retainingWall.typeId">
                        <button type="submit" >Add to cart</button>
                    </form>
                
            }
             if (Model.msg)
                {
                    <div id="outputMsg"><p>Added to cart!</p></div>
                }
            </div>            
        </div>
        }
</div> 
<script src="~/js/product.js" asp-append-version="true"></script>

